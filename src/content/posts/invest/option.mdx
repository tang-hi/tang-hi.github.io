---
title: '期权学习笔记'
pubDate: 2024-05-19
categories: 
  - option
  - invest
description: '期权是一种衍生证券，它的价值取决于或衍生于其他证券的价格. 本文是对期权的学习笔记'
---

<link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css"
    integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ"
    crossorigin="anonymous"
/>

## 什么是期权?

  期权可以认为是一种权力。它赋予你，可以在某个时间段以特定价格买入或者卖出股票的权利。

  这么说可能不是很好懂，我们通过几个例子来解释这件事。
  
  假设有这么一个人(甲)，他的意见总是和你相反。你觉得阿里巴巴的股票会涨，他就觉得会跌。你觉得阿里巴巴的股票会跌，他就觉得会涨。同时，你们都希望对方为自己的认识付出代价。你们由此设计出了一套协议叫做`期权 (option)`

  假设现在阿里巴巴的股价是80美金
  ### 1. 你认为会涨，甲认为会跌
  
  在这种情况下，甲对你提议说，既然你认为阿里巴巴的股价仍旧会涨，那我就卖给你`看涨期权 (call option)`，行权价为82，有效期为一个月。拥有这份期权就意味着在这一个月的时间里，无论阿里巴巴的股价如何变化，你都可以用一股82美金的价格来向甲**买入**阿里的股票。当然，购买这份期权，意味着你需要先支付少许的`权力金 (premium)`。

  那么在完成交易后会发生什么事呢？
  
  **a. 阿里的股价超过了82美金**
  
  > 在这种情况下，你可以使用便宜的价格来购买阿里股票`(你可以用82美金向甲买入阿里股票，然后马上在市场上卖掉，从而赚取利润)`。
  > 假设目前阿里的股价为`T`美元, 那么你的收益则为 $$ T - 82 $$。 同时别忘了，为了购买这份期权，我们预先支付了一笔`权利金`。 因此你的实际收益为 $$ T - 82 - premium $$ 
  
  **b. 阿里的股价没有超过82美金.**

  > 在这种情况下，你并不会选择以82美金的价格向甲购买阿里的股票(放弃行权)，因为这完全是一笔亏本买卖。
  > 所以你会亏损你之前购买期权所付出的`权利金`。 而甲则什么都没有损失，反而白赚了一笔你所付的`权利金`。

  ### 2. 你认为会跌，甲认为会涨

  在这种情况下，甲对你提议说，既然你认为阿里巴巴的股价会下跌，那我就卖给你`看跌期权 (put option)`，行权价为78，有效期为一个月。
  拥有这份期权就意味着在这一个月的时间里，无论阿里巴巴的股价如何变化，你都可以用一股78美金的价格向甲**卖出**阿里的股票。同样的，购买这份期权，你也需要先支付少许的`权力金`。

  那么在完成交易后会发生什么事呢？
  
  **a. 阿里的股价超跌破78美金**
  
  > 在这种情况下，你可以用高于市场的价格来卖出阿里股票`(在股票市场上买入阿里股票，然后再高价卖给甲，从而赚取利润)`。
  > 假设目前阿里的股价为`T`美元, 那么你的收益则为 $$ 78 - T $$。 同时别忘了，为了购买这份期权，我们预先支付了一笔`权利金`。 因此你的实际收益为 $$ 78 - T - premium $$ 
  
  **b. 阿里的股价高于78美金.**

  > 在这种情况下，你并不会选择以78美金的价格卖给甲(放弃行权)，因为这也是一笔亏本买卖。
  > 所以你会亏损你之前购买期权所付出的`权利金`。 而甲则白赚了一笔你所付的`权利金`。

  上述的`看涨期权(call option)` 和 `看跌期权(put option)` 就是我们一直所说的的期权。
  在现实生活中，期权的购买单位为张(100股为一张), 也就是说一张期权等于100股股票`购买/卖出`的权利。
  
  值得注意的是, 期权的卖出并不需要你有相应的股票，你可以直接在市场上卖出期权，并立刻获得买方所付的权利金，只要你的保证金足够。


## 期权有什么用?

### 投机

期权相对于股票而言，它对价格的波动更加敏感。 
假设，阿里巴巴当前股价为`80美金`， 你购买了一张行权价为`81美金`的期权。期权的价格为`1.2美金`一股。那么当阿里巴巴的股价涨到`83美金`时, 期权的价格至少为**2**美金(83 - 81)。

期权与股票的利润对比，可参考如下表格。

|           期权/股票       | 本金    | 利润   |  浮盈    
|----------------------------|---------|---------|-----|
| 期权                 | 120$    |   200$  |   66.7%   |
| 股票   | 8000$   |  8300$  | 3.75% 

可以看到在股价相同的波动下，期权可以获得更高的利润率。

### 对冲

期权因为其高杠杆，它不仅可以进行投机，还可以用来对冲风险, 在股票市场上我们一般有如下策略。

#### 保护性看跌期权(protective put)

如果你想要持有一只股票，但是你不想在它下跌时蒙受太大的损失，那么你可以在购买这只股票的同时，买入它的看跌期权。

假定你在阿里巴巴股价为`80美金`时，买入了100股，并且买入了行权价为`78美金`的`看跌期权(put)`。那么你的最大损失为每股`2美金`加`权利金`。这样你就给你的损失设置了一个下限。利润与股价的关系如下图所示。

<div style="text-align: center">
<img src="https://hayesx-1302722143.cos.ap-singapore.myqcloud.com/img/protective-put.png"/>
</div>

#### 抛补看涨期权(covered call)

如果你在购买股票时，设置了一个止盈价位，那么你可以在买入股票的同时，同时卖出等量的`看涨期权(call)`。这种策略可以进一步的增加你的利润。

假定你在阿里巴巴股价为`80美金`时，买入了100股，且你的目标价位为`85美金`。那么你可以直接卖出100股`85美金`的看涨期权，这样子当股价到达了`85美金`时。你每股不仅赚到了`5美金`的差额，同时还赚到了出售期权获得的`权利金`。当然这种策略的缺点就是，当股价继续上涨时，超出85美金的部分就和你没有关系了。

<div style="text-align: center">
<img src="https://hayesx-1302722143.cos.ap-singapore.myqcloud.com/img/covered-call.png"/>
</div>

#### 跨式期权(straddle)

当你觉得一家公司的后续股价，要么大涨，要么大跌(比如面临一个重要的官司)。你可以通过同时买入行权价相同，过期日期相同的`看涨期权(call)`和`看跌期权(put)`, 来赚取利润.

假定你在阿里巴巴股价为`80美金`时, 买入了行权价为`81美金`的`看涨期权`和`看跌期权`。当阿里巴巴的股价变为`70美金时`, 你的看跌期权每股将价值`11美金`，完全可以覆盖你付出的`权利金`。同样的当阿里巴巴的股价变为`90美金`时，看涨期权每股将价值`9美金`, 同样可以覆盖你付出的`权利金`。

但是当股价不变或者小幅波动时，你将会损失你购买期权所付出的`权利金`。

<div style="text-align: center">
<img src="https://hayesx-1302722143.cos.ap-singapore.myqcloud.com/img/straddle.png"/>
</div>

#### 双限期权(collar)

这种策略会对你的资产组合设置一个上限和下限。

假设你持有100股阿里巴巴的股票。假定每股价格为`80美金`, 你通过买入行权价为`70美金`的保护性看跌期权，给你的股票价值设置了一个下限。但是购买期权需要付出`权利金`，如果你不想出这笔钱，你可以卖出和`看跌期权(put)`价值差不多的`看涨期权`。 这样你相当于零成本的，为你的股票设置了上下限。

<div style="text-align: center">
<img src="https://hayesx-1302722143.cos.ap-singapore.myqcloud.com/img/collar.png"/>
</div>


#### 价差套利(spread)

这种策略是当你发现了，不同价格的两个期权的定价有错误(一个比另一个便宜), 你可以通过买入相对便宜的期权，同时卖出相对贵的期权，来进行套利。

假设，你觉得行权价为`90美金`的看涨期权比行权价`100美金`的看涨期权更便宜。那么你可以买入行权价为`90美金`的看涨期权,同时卖出行权价为`100美金`的看涨期权。这样只要股价超过`90美金`, 你就是有利可图的。注意，这里说的便宜是指购买期权的权利金。


<div style="text-align: center">
<img src="https://hayesx-1302722143.cos.ap-singapore.myqcloud.com/img/spread.png"/>
</div>

## 如何对期权定价?

那么一张行权价为`90美金`的`看涨期权(call)`该如何定价呢？如果当前股价是`100美金`, 毫无疑问这个期权是有价值的，每一股可以赚到`10美金`的差价。但如果当前股价是`80美金`呢？这个期权的价值就一文不值吗？答案当然是否定的。因为期权除了`内在价值(intrinstic value)`, 还有其`时间价值(time value)`。 毕竟只要还没到期，股价就有可能一飞冲天。

那么有没有一个合理的方式对期权进行定价？想要绝对客观的定价，是不可能的。我们只能基于一些假设来对期权进行定价。常用的方法有`二项式期权定价`，以及`布莱克-斯科尔斯公式(Black-Scholes pricing formula)`.

这里主要介绍一下二项式期权定价

假定一个股票的价格为100美元，到年底这个股票有两种可能升到120，以及跌到90。当前无风险年利率为10%。我们现在计算一股行权价格为110美金，到期时间一年的期权应该价值(权利金)多少？

我们首先可以得到，这个期权在到期后可能得到的收益，如下图所示。

<div style="text-align: center">
<img src="https://hayesx-1302722143.cos.ap-singapore.myqcloud.com/img/option-price.png"/>
</div>

我们如果可以构建出一笔资产组合，使得其年底收益与该期权的收益相等，那么我们就可以对该期权进行定价。
假设我们现在有这么一个资产组合，价值100美元的股票和81.82元的借款。因为我们购买股票的钱，有81.82是借来的，因此我们个人出资18.18。同时因为利率为10%， 到期后我们需要还90元。这个资产组合的收益如何呢？如下图所示。

<div style="text-align: center">
<img src="https://hayesx-1302722143.cos.ap-singapore.myqcloud.com/img/stock-price.png"/>
</div>

可以看到这个资产组合的收益是期权的三倍。而我们的个人出资为18.18, 因此我们可以得到该期权的价格为$$18.18 / 3 = 6.06$$

这里介绍的定价方法，仅仅是简化版的方法，现实生活中的定价方法复杂得多，要考虑的因素也更多，有兴趣的读者可以自己探索。



